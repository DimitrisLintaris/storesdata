<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Πρότυπο Infographic Ανάλυσης Πωλήσεων</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 450px;
            }
        }
        .kpi-value {
            font-weight: 900;
            line-height: 1;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
            text-align: left;
        }
        th, td {
            padding: 0.75rem;
            border: 1px solid #e2e8f0;
        }
        th {
            background-color: #f1f5f9;
            font-weight: 600;
        }
    </style>
</head>
    <div style="text-align: center; margin-top: 20px;">
        <a href="OneSalonica.html">
            <i class="fas fa-home"></i> Επιστροφή στην αρχική σελίδα
        </a>
<body class="text-gray-800">

    <div class="container mx-auto p-4 md:p-8">
        
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 mb-2" id="infographic-title">Ανάλυση Πωλήσεων Πρώτου Επτάμηνο 2024-2025</h1>
            <p class="text-lg text-gray-600">Βασικές Τάσεις, Προκλήσεις & Ευκαιρίες Ανάπτυξης</p>
        </header>

        <section class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
            <div class="bg-white p-6 rounded-2xl shadow-md text-center">
                <h3 class="text-md font-semibold text-gray-500 mb-2">Συνολική Μεταβολή Αξίας</h3>
                <p class="text-5xl kpi-value" id="kpi-value-1"></p>
                <p class="text-sm text-gray-500 mt-2" id="kpi-text-1"></p>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-md text-center">
                <h3 class="text-md font-semibold text-gray-500 mb-2">Συνολική Μεταβολή Ποσότητας</h3>
                <p class="text-5xl kpi-value" id="kpi-value-2"></p>
                <p class="text-sm text-gray-500 mt-2" id="kpi-text-2"></p>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-md text-center">
                <h3 class="text-md font-semibold text-gray-500 mb-2">Συμμετοχή Top 10 στον Τζίρο</h3>
                <p class="text-5xl kpi-value text-blue-500" id="kpi-value-3"></p>
                 <p class="text-sm text-gray-500 mt-2">Οι κορυφαίες κατηγορίες οδηγούν τις πωλήσεις</p>
            </div>
        </section>

        <main class="grid grid-cols-1 lg:grid-cols-2 gap-8">

            <div class="lg:col-span-2 bg-white p-6 rounded-2xl shadow-lg">
                <h2 class="text-2xl font-bold mb-1 text-center">Απόδοση Κατηγοριών</h2>
                <p class="text-gray-600 mb-4 text-center">Μεταβολή αξίας (%) για τις κατηγορίες, ταξινομημένες με βάση την αξία τους το πρώτο Επτάμηνο του 2025. Το γράφημα αναδεικνύει τους πρωταγωνιστές της ανάπτυξης και τις κατηγορίες που αντιμετωπίζουν προκλήσεις.</p>
                <div class="flex items-center space-x-4 mb-4">
                    <label for="category-count-slider" class="text-gray-700 font-semibold">Εμφάνιση Κατηγοριών:</label>
                    <input type="range" id="category-count-slider" min="1" max="10" value="10" class="flex-grow accent-blue-500">
                    <span id="category-count-value" class="font-bold text-blue-600">10</span>
                </div>
                <div class="chart-container h-[500px]">
                    <canvas id="performanceChart"></canvas>
                </div>
            </div>
            
            <div class="bg-white p-6 rounded-2xl shadow-lg">
                <h2 class="text-2xl font-bold mb-1 text-center">Σύνθεση Τζίρου Top 5</h2>
                <p class="text-gray-600 mb-4 text-center">Το γράφημα απεικονίζει τη συμβολή των 5 κορυφαίων κατηγοριών στη συνολική αξία πωλήσεων των Top 10 για το πρώτο Επτάμηνο, δείχνοντας την εξάρτηση του τζίρου από συγκεκριμένα προϊόντα.</p>
                <div class="chart-container">
                    <canvas id="compositionChart"></canvas>
                </div>
            </div>

            <div class="bg-white p-6 rounded-2xl shadow-lg">
                <h2 class="text-2xl font-bold mb-1 text-center">Συσχέτιση Αξίας & Ποσότητας</h2>
                <p class="text-gray-600 mb-4 text-center">Κάθε τελεία αντιστοιχεί σε μια κατηγορία, δείχνοντας τη σχέση μεταξύ της συνολικής αξίας πωλήσεων (άξονας Υ) και της ποσότητας (άξονας Χ) για το πρώτο Επτάμηνο του 2025. Εντοπίστε προϊόντα υψηλής αξίας και μεγάλου όγκου.</p>
                <div class="chart-container">
                    <canvas id="scatterChart"></canvas>
                </div>
            </div>

            <div class="lg:col-span-2 bg-white p-6 rounded-2xl shadow-lg">
                <h2 class="text-2xl font-bold mb-4 text-center">Νικητές & Ηττημένοι</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="text-center p-4 rounded-lg bg-green-50">
                        <h3 class="text-xl font-bold text-green-800 mb-4">Οι Μεγάλοι Νικητές 🚀 <br><span class="text-sm font-normal text-gray-600">(Βάσει Αξίας με θετική μεταβολή ποσότητας)</span></h3>
                        <div class="space-y-4" id="winners-list">
                            <!-- Winners -->
                        </div>
                    </div>
                     <div class="text-center p-4 rounded-lg bg-red-50">
                        <h3 class="text-xl font-bold text-red-800 mb-4">Οι Μεγαλύτερες Προκλήσεις 📉 <br><span class="text-sm font-normal text-gray-600">(Βάσει Αξίας με αρνητική μεταβολή ποσότητας)</span></h3>
                         <div class="space-y-4" id="losers-list">
                            <!-- Losers will be populated here dynamically -->
                         </div>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-2 bg-white p-6 rounded-2xl shadow-lg">
                <h2 class="text-2xl font-bold mb-4 text-center">Sandwiches: Μεταβολή Ποσότητας</h2>
                <p class="text-gray-600 mb-4 text-center">Ανάλυση των sandwiches με τη μεγαλύτερη αξία και η μεταβολή της ποσότητας τους.</p>
                <div class="flex items-center space-x-4 mb-4">
                    <label for="sandwich-count-slider" class="text-gray-700 font-semibold">Εμφάνιση Προϊόντων:</label>
                    <input type="range" id="sandwich-count-slider" min="0" max="10" value="4" step="2" class="flex-grow accent-blue-500">
                    <span id="sandwich-count-value" class="font-bold text-blue-600">4</span>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="text-center p-4 rounded-lg bg-gray-50">
                        <h3 class="text-xl font-bold text-green-800 mb-4">Top sandwiches (Αξία) μεταβολή ποσότητας 📈</h3>
                        <div class="space-y-4" id="sandwich-winners-quantity-list">
                            <!-- Sandwich quantity winners will be populated here -->
                        </div>
                    </div>
                    <div class="text-center p-4 rounded-lg bg-red-50">
                        <h3 class="text-xl font-bold text-red-800 mb-4">Last sandwiches (Αξία) μεταβολή ποσότητας 📉</h3>
                        <div class="space-y-4" id="sandwich-losers-quantity-list">
                            <!-- Sandwich quantity losers will be populated here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- New section for Πιτάκια data as a bar chart -->
            <div class="lg:col-span-2 bg-white p-6 rounded-2xl shadow-lg">
                <h2 class="text-2xl font-bold mb-4 text-center">Αναλυτικά Δεδομένα Πιτάκια</h2>
                <p class="text-gray-600 mb-4 text-center">Μεταβολή αξίας και ποσότητας για την κατηγορία Πιτάκια.</p>
                <div class="chart-container">
                    <canvas id="pitakiaChart"></canvas>
                </div>
            </div>

            <!-- New section for Sandwiches summary data as a bar chart -->
            <div class="lg:col-span-2 bg-white p-6 rounded-2xl shadow-lg">
                <h2 class="text-2xl font-bold mb-4 text-center">Συνοπτικά Δεδομένα Σάντουιτς & Τορτίγιες</h2>
                <p class="text-gray-600 mb-4 text-center">Συνοπτική μεταβολή αξίας και ποσότητας για τις κατηγορίες Σάντουιτς και Τορτίγιες.</p>
                <div class="chart-container">
                    <canvas id="sandwichesTortillasChart"></canvas>
                </div>
            </div>

            <!-- NEW SECTION: Μεταβολή Αξίας στις Πρώτες 10 Κατηγορίες -->
            <div class="lg:col-span-2 bg-white p-6 rounded-2xl shadow-lg">
                <h2 class="text-2xl font-bold mb-1 text-center">Μεταβολή Αξίας στις Πρώτες 10 Κατηγορίες</h2>
                <p class="text-gray-600 mb-4 text-center">Πίνακας που δείχνει την αξία πωλήσεων για το 2025 και το 2024, καθώς και την απόλυτη μεταβολή της αξίας (€) για τις 10 κορυφαίες κατηγορίες, ταξινομημένες με βάση την αξία τους το 2025.</p>
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white rounded-lg shadow-sm">
                        <thead>
                            <tr>
                                <th class="py-3 px-4 border-b text-sm font-semibold text-gray-700">Κατηγορία</th>
                                <th class="py-3 px-4 border-b text-sm font-semibold text-gray-700 text-right">Αξία 2025 (€)</th>
                                <th class="py-3 px-4 border-b text-sm font-semibold text-gray-700 text-right">Αξία 2024 (€)</th>
                                <th class="py-3 px-4 border-b text-sm font-semibold text-gray-700 text-right">Μεταβολή Αξίας (€)</th>
                            </tr>
                        </thead>
                        <tbody id="value-change-table-body">
                            <!-- Table rows will be populated here dynamically -->
                        </tbody>
                    </table>
                </div>
                <!-- Removed the chart from this section -->
            </div>
            <!-- END NEW SECTION -->

        </main>
        
        <footer class="text-center mt-12 py-6 border-t">
            <h2 class="text-2xl font-bold mb-2text-center">Βασικά Συμπεράσματα</h2>
            <div class="max-w-4xl mx-auto text-gray-600 space-y-2" id="conclusions-list">
                <!-- Conclusions will be populated dynamically -->
            </div>
        </footer>

    </div>

    <script>
        // Function to parse currency string (e.g., "€ 20.934,12" to 20934.12)
        function parseCurrency(str) {
            if (!str || str.trim() === '€ -' || str.trim() === '-' || str.trim() === '€ - \xa0 \xa0') return 0;
            // Remove '€', thousands separators (.), and replace comma with dot for decimals
            return parseFloat(str.replace('€', '').replace(/\./g, '').replace(',', '.').trim());
        }

        // Function to parse percentage string (e.g., "-2%" to -2)
        function parsePercentage(str) {
            if (!str || str.trim() === '-' || str.trim() === '0%') return 0;
            return parseFloat(str.replace('%', '').replace('▲', '').replace('▼', '').trim());
        }

        // Modified wrapLabel to always return an array
        function wrapLabel(str, maxLen = 16) {
            if (str.length <= maxLen) return [str]; // Always return an array, even if single element
            const words = str.split(' ');
            const lines = [];
            let currentLine = '';
            for (const word of words) {
                if ((currentLine + word).length > maxLen && currentLine.length > 0) {
                    lines.push(currentLine.trim());
                    currentLine = '';
                }
                currentLine += word + ' ';
            }
            lines.push(currentLine.trim());
            return lines;
        }

        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' ');
            }
            return label;
        };
        
        const commonChartOptions = {
            maintainAspectRatio: false,
            responsive: true,
            plugins: {
                legend: {
                    labels: {
                        font: { size: 14, family: 'Inter' }
                    }
                },
                tooltip: {
                    callbacks: { title: tooltipTitleCallback },
                    titleFont: { size: 16, family: 'Inter', weight: 'bold' },
                    bodyFont: { size: 14, family: 'Inter' },
                    padding: 10,
                    backgroundColor: 'rgba(0,0,0,0.8)',
                    titleColor: '#ffffff',
                    bodyColor: '#ffffff',
                }
            },
            scales: {
                x: {
                    ticks: { font: { size: 12, family: 'Inter' } },
                    grid: { display: false }
                },
                y: {
                    ticks: { font: { size: 12, family: 'Inter' } },
                    grid: { color: '#e5e7eb' }
                }
            }
        };

        const palette = {
            red: '#F94144',
            orange: '#F3722C',
            yellowOrange: '#F8961E',
            yellow: '#F9C74F',
            green: '#90BE6D',
            teal: '#43AA8B',
            blue: '#577590',
            positive: '#43AA8B',
            negative: '#F94144'
        };
        const chartColors = [palette.blue, palette.teal, palette.green, palette.yellow, palette.orange, palette.red, palette.yellowOrange];

        let performanceChartInstance = null;
        let compositionChartInstance = null;
        let scatterChartInstance = null;
        let pitakiaChartInstance = null;
        let sandwichesTortillasChartInstance = null;
        let sandwichQuantityChangeChartInstance = null;
        // let top10ValueChangeChartInstance = null; // Removed this chart instance

        /**
         * Renders the infographic with the provided data.
         * @param {object} data - The data object containing all infographic data.
         * @param {string} data.storeName - The name of the store for the title.
         * @param {object} data.overall - Overall KPI data.
         * @param {number} data.overall.totalValue2025
         * @param {number} data.overall.totalValue2024
         * @param {number} data.overall.totalQuantity2025
         * @param {number} data.overall.totalQuantity2024
         * @param {number} data.overall.top10Share
         * @param {Array<object>} data.allCategories - Data for all product categories.
         * @param {Array<object>} data.sandwichCategories - Data specific to sandwich categories.
         * @param {object} data.pitakia - Data for the Pitakia category.
         * @param {Array<object>} data.sandwichesTortillasSummary - Summary data for sandwiches and tortillas.
         */
        function renderInfographic(data) {
            // Update title
            document.getElementById('infographic-title').textContent = `Ανάλυση Πωλήσεων ${data.storeName} Πρώτου Επταμήνου 2024-2025 (Ιανουάριος - Ιούλιος)`;

            // Update KPI values
            const overallValueChange = data.overall.totalValue2024 === 0 ? 0 : ((data.overall.totalValue2025 - data.overall.totalValue2024) / data.overall.totalValue2024) * 100;
            const overallQuantityChange = data.overall.totalQuantity2024 === 0 ? 0 : ((data.overall.totalQuantity2025 - data.overall.totalQuantity2024) / data.overall.totalQuantity2024) * 100;

            const kpiValue1 = document.getElementById('kpi-value-1');
            const kpiText1 = document.getElementById('kpi-text-1');
            if (kpiValue1 && kpiText1) {
                kpiValue1.textContent = `${overallValueChange >= 0 ? '+' : ''}${overallValueChange.toFixed(0)}%`;
                kpiValue1.classList.remove('text-red-500', 'text-blue-500', 'text-green-500');
                kpiValue1.classList.add(overallValueChange >= 0 ? 'text-green-500' : 'text-red-500');
                kpiText1.textContent = `Από €${data.overall.totalValue2024.toFixed(0)} σε €${data.overall.totalValue2025.toFixed(0)}`;
            }

            const kpiValue2 = document.getElementById('kpi-value-2');
            const kpiText2 = document.getElementById('kpi-text-2');
            if (kpiValue2 && kpiText2) {
                kpiValue2.textContent = `${overallQuantityChange >= 0 ? '+' : ''}${overallQuantityChange.toFixed(0)}%`;
                kpiValue2.classList.remove('text-red-500', 'text-blue-500', 'text-green-500');
                kpiValue2.classList.add(overallQuantityChange >= 0 ? 'text-green-500' : 'text-red-500');
                kpiText2.textContent = `Από ${data.overall.totalQuantity2024.toFixed(0)} σε ${data.overall.totalQuantity2025.toFixed(0)} τεμάχια`;
            }

            const kpiValue3 = document.getElementById('kpi-value-3');
            if (kpiValue3) {
                kpiValue3.textContent = `84%`;
            }

            // Destroy existing chart instances if they exist
            if (performanceChartInstance) performanceChartInstance.destroy();
            if (compositionChartInstance) compositionChartInstance.destroy();
            if (scatterChartInstance) scatterChartInstance.destroy();
            if (pitakiaChartInstance) pitakiaChartInstance.destroy();
            if (sandwichesTortillasChartInstance) sandwichesTortillasChartInstance.destroy();
            if (sandwichQuantityChangeChartInstance) sandwichQuantityChangeChartInstance.destroy();
            // if (top10ValueChangeChartInstance) top10ValueChangeChartInstance.destroy(); // Removed this chart instance destruction

            // Performance Chart
            const categoryCountSlider = document.getElementById('category-count-slider');
            const categoryCountValue = document.getElementById('category-count-value');

            // Sort allCategoriesData by 'value' in descending order
            const sortedAllCategoriesDataByValue = [...data.allCategories].sort((a, b) => b.value - a.value);

            // Set slider max value based on the total number of categories
            categoryCountSlider.max = sortedAllCategoriesDataByValue.length;

            // Function to update the performance chart based on slider value
            const updatePerformanceChart = () => {
                const numCategories = parseInt(categoryCountSlider.value);
                categoryCountValue.textContent = numCategories;

                // Slice the data after sorting by value
                const displayedCategories = sortedAllCategoriesDataByValue.slice(0, numCategories);

                // Re-create the chart
                if (performanceChartInstance) performanceChartInstance.destroy();
                performanceChartInstance = new Chart(document.getElementById('performanceChart'), {
                    type: 'bar',
                    data: {
                        labels: displayedCategories.map(d => wrapLabel(d.category)),
                        datasets: [{
                            label: 'Μεταβολή Αξίας (%)', // Changed label to Value Change
                            data: displayedCategories.map(d => d.valueChange), // Changed data source to valueChange
                            backgroundColor: displayedCategories.map(d => d.valueChange >= 0 ? palette.positive : palette.negative), // Colors based on valueChange
                            borderColor: displayedCategories.map(d => d.valueChange >= 0 ? palette.positive : palette.negative),
                            borderWidth: 1
                        }]
                    },
                    options: {
                        ...commonChartOptions,
                        indexAxis: 'y',
                        scales: {
                            y: {
                                ticks: { font: { size: 12, family: 'Inter' } },
                                grid: { display: false }
                            },
                            x: {
                                ticks: {
                                    font: { size: 12, family: 'Inter' },
                                    callback: function(value) { return value + '%'; }
                                },
                                grid: { color: '#e5e7eb' }
                            }
                        },
                        plugins: {
                            ...commonChartOptions.plugins,
                            tooltip: {
                                ...commonChartOptions.plugins.tooltip,
                                callbacks: {
                                    title: tooltipTitleCallback,
                                    label: function(context) {
                                        const categoryData = displayedCategories[context.dataIndex];
                                        // Calculate changes as (2025 - 2024) as requested
                                        const quantityChange = categoryData.quantity - categoryData.quantity2024;
                                        const valueChange = categoryData.value - categoryData.value2024;

                                        const quantityChangeFormatted = `${quantityChange >= 0 ? '+' : ''}${new Intl.NumberFormat('el-GR').format(quantityChange)}`;
                                        const valueChangeFormatted = `${valueChange >= 0 ? '+' : ''}${new Intl.NumberFormat('el-GR', { style: 'currency', currency: 'EUR', minimumFractionDigits: 0 }).format(valueChange)}`;

                                        return [
                                            `Μεταβολή Ποσότητας (2025-2024): ${quantityChangeFormatted}`,
                                            `Μεταβολή Αξίας (2025-2024): ${valueChangeFormatted}`
                                        ];
                                    }
                                }
                            }
                        }
                    }
                });
            };

            // Initial render of the performance chart
            updatePerformanceChart();

            // Add event listener for the slider
            categoryCountSlider.addEventListener('input', updatePerformanceChart);


            // Composition Chart
            const top5ByValue = [...data.allCategories].sort((a, b) => b.value - a.value).slice(0, 5);
            compositionChartInstance = new Chart(document.getElementById('compositionChart'), {
                type: 'doughnut',
                data: {
                    labels: top5ByValue.map(d => wrapLabel(d.category)),
                    datasets: [{
                        label: 'Αξία Πωλήσεων (€)',
                        data: top5ByValue.map(d => d.value),
                        backgroundColor: chartColors.slice(0, 5),
                        hoverOffset: 4
                    }]
                },
                options: {
                    ...commonChartOptions,
                    scales: { x: { display: false }, y: { display: false } },
                    plugins: {
                        ...commonChartOptions.plugins,
                        tooltip: {
                            ...commonChartOptions.plugins.tooltip,
                            callbacks: {
                                title: tooltipTitleCallback,
                                label: function(context) {
                                    const item = context.raw;
                                    return `${context.label}: ${new Intl.NumberFormat('el-GR', { style: 'currency', currency: 'EUR', minimumFractionDigits: 0 }).format(item)}`;
                                }
                            }
                        }
                    }
                }
            });

           // Scatter Chart
scatterChartInstance = new Chart(document.getElementById('scatterChart'), {
    type: 'scatter',
    data: {
        labels: data.allCategories.map(d => wrapLabel(d.category)),
        datasets: [{
            label: 'Κατηγορίες Πωλήσεων Πρώτου Επτάμηνο 2025',
            data: data.allCategories.map(d => ({ 
                x: d.quantity, 
                y: d.value, 
                value2024: d.value2024,
                categoryName: d.category
            })),
            backgroundColor: chartColors,
            pointRadius: 8,
            pointHoverRadius: 12
        }]
    },
    options: {
        ...commonChartOptions,
        scales: {
            x: {
                ...commonChartOptions.scales.x,
                title: { display: true, text: 'Ποσότητα (Τεμάχια)', font: { size: 14, weight: 'bold' } }
            },
            y: {
                ...commonChartOptions.scales.y,
                title: { display: true, text: 'Αξία (€)', font: { size: 14, weight: 'bold' } },
                ticks: {
                    callback: function(value) { return new Intl.NumberFormat('el-GR', { style: 'currency', currency: 'EUR', minimumFractionDigits: 0 }).format(value); }
                }
            }
        },
        plugins: {
            ...commonChartOptions.plugins,
            tooltip: {
                ...commonChartOptions.plugins.tooltip,
                callbacks: {
                    title: tooltipTitleCallback,
                    label: function(context) {
                        const item = context.raw;
                        const valueFormatted = new Intl.NumberFormat('el-GR', { style: 'currency', currency: 'EUR', minimumFractionDigits: 0 }).format(item.y);
                        const quantityFormatted = new Intl.NumberFormat('el-GR').format(item.x);
                        
                        // Calculate and format the value change
                        const valueChange = item.y - item.value2024;
                        const valueChangeFormatted = new Intl.NumberFormat('el-GR', { 
                            style: 'currency', 
                            currency: 'EUR', 
                            minimumFractionDigits: 0,
                            signDisplay: 'always' // This will show a '+' for positive numbers
                        }).format(valueChange);

                        return [
                            `Αξία: ${valueFormatted}`,
                            `Ποσότητα: ${quantityFormatted}`,
                            `Μεταβολή Αξίας: ${valueChangeFormatted}` // New line for value change
                        ];
                    }
                }
            }
        }
    }
});

            // Winners & Losers for all Categories
            // Winners: Filter for positive quantity change, then sort by value descending
            const winners = [...data.allCategories]
                .filter(item => item.quantityChange > 0)
                .sort((a, b) => b.value - a.value)
                .slice(0, 5);

            // Losers: Filter for negative quantity change, then sort by value descending
            // (to get the highest value items that have negative quantity change)
            const losers = [...data.allCategories]
                .filter(item => item.quantityChange < 0)
                .sort((a, b) => b.value - a.value) // Sort by value descending
                .slice(0, 5);

            const winnersListDiv = document.getElementById('winners-list');
            winnersListDiv.innerHTML = '';
            if (winners.length > 0) {
                winners.forEach((item) => {
                    const div = document.createElement('div');
                    div.innerHTML = `
                        <p class="text-5xl font-black text-green-600">${item.quantityChange > 0 ? '+' : ''}${item.quantityChange}%</p>
                        <p class="font-semibold">${wrapLabel(item.category).join('<br>')}</p>
                    `;
                    winnersListDiv.appendChild(div);
                });
            } else {
                winnersListDiv.innerHTML = '<p class="text-gray-500">Δεν υπάρχουν δεδομένα.</p>';
            }

            const losersListDiv = document.getElementById('losers-list');
            losersListDiv.innerHTML = '';
            if (losers.length > 0) {
                losers.forEach((item) => {
                    const div = document.createElement('div');
                    div.innerHTML = `
                        <p class="text-5xl font-black text-red-600">${item.quantityChange > 0 ? '+' : ''}${item.quantityChange}%</p>
                        <p class="font-semibold">${wrapLabel(item.category).join('<br>')}</p>
                    `;
                    losersListDiv.appendChild(div);
                });
            } else {
                losersListDiv.innerHTML = '<p class="text-gray-500">Δεν υπάρχουν δεδομένα.</p>';
            }

            // Sandwiches: Quantity Change (First Half)
            const sandwichCountSlider = document.getElementById('sandwich-count-slider');
            const sandwichCountValue = document.getElementById('sandwich-count-value');

            // Sort sandwichCategories by 'value' in descending order
            const sortedSandwichCategoriesByValue = [...data.sandwichCategories].sort((a, b) => b.value - a.value);

            // Set slider max value based on the total number of sandwich categories
            // Ensure max is an even number if the total length is odd, to allow step=2 to reach it.
            sandwichCountSlider.max = sortedSandwichCategoriesByValue.length % 2 === 0 ? sortedSandwichCategoriesByValue.length : sortedSandwichCategoriesByValue.length - 1;
            if (sandwichCountSlider.max < 0) sandwichCountSlider.max = 0; // Handle case where length is 0 or 1

            // Function to update the sandwich lists based on slider value
            const updateSandwichLists = () => {
                let numSandwiches = parseInt(sandwichCountSlider.value);
                // Ensure the value is always even, even if the slider somehow lands on an odd number (e.g., if min was 1 and step was 2, but then min changed to 0)
                if (numSandwiches % 2 !== 0) {
                    numSandwiches = numSandwiches - 1; // Decrement to nearest even number
                    if (numSandwiches < parseInt(sandwichCountSlider.min)) {
                        numSandwiches = parseInt(sandwichCountSlider.min); // Ensure it doesn't go below min
                    }
                    sandwichCountSlider.value = numSandwiches; // Update slider position
                }
                sandwichCountValue.textContent = numSandwiches;


                const topNSandwichesByValue = sortedSandwichCategoriesByValue.slice(0, numSandwiches);

                // Winners: Filter for positive quantity change, then sort by quantity change descending
                const sortedSandwichWinners = [...topNSandwichesByValue]
                    .filter(item => item.quantityChange > 0)
                    .sort((a, b) => b.quantityChange - a.quantityChange)
                    .slice(0, numSandwiches); // Apply slider limit again after filtering

                // Losers: Filter for negative quantity change, then sort by quantity change ascending
                const sortedSandwichLosers = [...topNSandwichesByValue]
                    .filter(item => item.quantityChange < 0)
                    .sort((a, b) => a.quantityChange - b.quantityChange) // Sort by quantityChange ascending for losers
                    .slice(0, numSandwiches); // Apply slider limit again after filtering

                const sandwichWinnersListDiv = document.getElementById('sandwich-winners-quantity-list');
                sandwichWinnersListDiv.innerHTML = '';
                if (sortedSandwichWinners.length > 0) {
                    sortedSandwichWinners.forEach(item => {
                        const div = document.createElement('div');
                        div.innerHTML = `
                            <p class="text-3xl font-black text-green-600">${item.quantityChange > 0 ? '+' : ''}${item.quantityChange}%</p>
                            <p class="font-semibold text-sm">${wrapLabel(item.category).join('<br>')}</p>
                        `;
                        sandwichWinnersListDiv.appendChild(div);
                    });
                } else {
                    sandwichWinnersListDiv.innerHTML = '<p class="text-gray-500">Δεν υπάρχουν δεδομένα.</p>';
                }

                const sandwichLosersListDiv = document.getElementById('sandwich-losers-quantity-list');
                sandwichLosersListDiv.innerHTML = '';
                if (sortedSandwichLosers.length > 0) {
                    sortedSandwichLosers.forEach(item => {
                        const div = document.createElement('div');
                        div.innerHTML = `
                            <p class="text-3xl font-black text-red-600">${item.quantityChange > 0 ? '+' : ''}${item.quantityChange}%</p>
                            <p class="font-semibold text-sm">${wrapLabel(item.category).join('<br>')}</p>
                        `;
                        sandwichLosersListDiv.appendChild(div);
                    });
                } else {
                    sandwichLosersListDiv.innerHTML = '<p class="text-gray-500">Δεν υπάρχουν δεδομένα.</p>';
                }
            };

            // Initial render of the sandwich lists
            updateSandwichLists();

            // Add event listener for the sandwich slider
            sandwichCountSlider.addEventListener('input', updateSandwichLists);


            // Chart for Πιτάκια
            pitakiaChartInstance = new Chart(document.getElementById('pitakiaChart'), {
                type: 'bar',
                data: {
                    labels: ['Μεταβολή Αξίας (%)', 'Μεταβολή Ποσότητας (%)'],
                    datasets: [{
                        label: data.pitakia.category,
                        data: [data.pitakia.valueChange, data.pitakia.quantityChange],
                        backgroundColor: [
                            data.pitakia.valueChange >= 0 ? palette.positive : palette.negative,
                            data.pitakia.quantityChange >= 0 ? palette.positive : palette.negative
                        ],
                        borderColor: [
                            data.pitakia.valueChange >= 0 ? palette.positive : palette.negative,
                            data.pitakia.quantityChange >= 0 ? palette.positive : palette.negative
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    ...commonChartOptions,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) { return value + '%'; }
                            }
                        },
                        x: {
                            grid: { display: false }
                        }
                    }
                }
            });

// Chart for Sandwiches & Tortillas
sandwichesTortillasChartInstance = new Chart(document.getElementById('sandwichesTortillasChart'), {
    type: 'bar',
    data: {
        labels: data.sandwichesTortillasSummary.map(d => wrapLabel(d.category)),
        datasets: [
            {
                label: 'Μεταβολή Αξίας (%)',
                data: data.sandwichesTortillasSummary.map(d => d.valueChange),
                backgroundColor: palette.blue,
                borderColor: palette.blue,
                borderWidth: 1
            },
            {
                label: 'Μεταβολή Ποσότητας (%)',
                data: data.sandwichesTortillasSummary.map(d => d.quantityChange),
                backgroundColor: data.sandwichesTortillasSummary.map(d => d.quantityChange >= 0 ? palette.teal : palette.red),
                borderColor: data.sandwichesTortillasSummary.map(d => d.quantityChange >= 0 ? palette.teal : palette.red),
                borderWidth: 1
            }
        ]
    },
    options: {
        ...commonChartOptions,
        scales: {
            y: {
                beginAtZero: true,
                ticks: {
                    callback: function(value) { return value + '%'; }
                }
            },
            x: {
                grid: { display: false }
            }
        },
        plugins: {
            ...commonChartOptions.plugins,
            tooltip: {
                callbacks: {
                    title: (tooltipItems) => {
                        return tooltipItems[0].label;
                    },
                    label: (context) => {
                        const label = context.dataset.label || '';
                        const value = context.parsed.y;
                        return `${label}: ${value}%`;
                    },
                    // This new footer callback adds the total changes
                    footer: (tooltipItems) => {
                        // Find the corresponding category data based on the label
                        const categoryName = tooltipItems[0].label.replace(/\n/g, ' ');
                        const categoryData = data.sandwichesTortillasSummary.find(d => d.category === categoryName);

                        if (categoryData) {
                            const valueChange = categoryData.valueChange;
                            const quantityChange = categoryData.quantityChange;
                            const totalValueChange = (categoryData.value - categoryData.value2024);
                            const totalQuantityChange = (categoryData.quantity - categoryData.quantity2024);
                            
                            const formatNumber = (num, isCurrency = true) => {
                                const formatted = new Intl.NumberFormat('el-GR', {
                                    style: isCurrency ? 'currency' : 'decimal',
                                    currency: 'EUR',
                                    minimumFractionDigits: isCurrency ? 0 : 0
                                }).format(num);
                                return num > 0 ? `+${formatted}` : formatted;
                            };

                            return [
                                `Απόλυτη Μεταβολή Αξίας: ${formatNumber(totalValueChange)}`,
                                `Απόλυτη Μεταβολή Ποσότητας: ${formatNumber(totalQuantityChange, false)}`
                            ];
                        }
                        return '';
                    }
                }
            }
        }
    }
});
            // Populate Value Change Table
            const valueChangeTableBody = document.getElementById('value-change-table-body');
            valueChangeTableBody.innerHTML = ''; // Clear existing rows

           // Get the top 10 categories by value (already sorted at the beginning of renderInfographic)
			const top10CategoriesForTable = sortedAllCategoriesDataByValue.slice(0, 10);

				let totalValue2025 = 0;
				let totalValue2024 = 0;
				let totalValueDifference = 0;

				top10CategoriesForTable.forEach(category => {
					const value2025 = category.value;
					const value2024 = category.value2024;
					const valueDifference = value2025 - value2024;

					totalValue2025 += value2025;
					totalValue2024 += value2024;
					totalValueDifference += valueDifference;

					const row = document.createElement('tr');
					row.innerHTML = `
						<td class="py-2 px-4 border-b text-sm">${category.category}</td>
						<td class="py-2 px-4 border-b text-sm text-right">${new Intl.NumberFormat('el-GR', { style: 'currency', currency: 'EUR', minimumFractionDigits: 0 }).format(value2025)}</td>
						<td class="py-2 px-4 border-b text-sm text-right">${new Intl.NumberFormat('el-GR', { style: 'currency', currency: 'EUR', minimumFractionDigits: 0 }).format(value2024)}</td>
						<td class="py-2 px-4 border-b text-sm text-right ${valueDifference >= 0 ? 'text-green-600' : 'text-red-600'} font-semibold">
							${valueDifference >= 0 ? '+' : ''}${new Intl.NumberFormat('el-GR', { style: 'currency', currency: 'EUR', minimumFractionDigits: 0 }).format(valueDifference)}
						</td>
					`;
					valueChangeTableBody.appendChild(row);
				});

				// Create and append the sum row
				const sumRow = document.createElement('tr');
				sumRow.innerHTML = `
					<td class="py-2 px-4 text-sm font-bold bg-gray-100">ΣΥΝΟΛΟ</td>
					<td class="py-2 px-4 text-sm text-right font-bold bg-gray-100">${new Intl.NumberFormat('el-GR', { style: 'currency', currency: 'EUR', minimumFractionDigits: 0 }).format(totalValue2025)}</td>
					<td class="py-2 px-4 text-sm text-right font-bold bg-gray-100">${new Intl.NumberFormat('el-GR', { style: 'currency', currency: 'EUR', minimumFractionDigits: 0 }).format(totalValue2024)}</td>
					<td class="py-2 px-4 text-sm text-right font-bold bg-gray-100 ${totalValueDifference >= 0 ? 'text-green-600' : 'text-red-600'}">
						${totalValueDifference >= 0 ? '+' : ''}${new Intl.NumberFormat('el-GR', { style: 'currency', currency: 'EUR', minimumFractionDigits: 0 }).format(totalValueDifference)}
					</td>
				`;
				valueChangeTableBody.appendChild(sumRow);


            // Update Conclusions
            const conclusionsListDiv = document.getElementById('conclusions-list');
            conclusionsListDiv.innerHTML = `
                <p>Η συνολική αξία πωλήσεων για το πρώτο Επτάμηνο παρουσίασε ${overallValueChange >= 0 ? 'αύξηση' : 'μείωση'} (${overallValueChange >= 0 ? '+' : ''}${overallValueChange.toFixed(0)}%), ενώ ο όγκος πωλήσεων παρουσίασε ${overallQuantityChange >= 0 ? 'αύξηση' : 'μείωση'} (${overallQuantityChange >= 0 ? '+' : ''}${overallQuantityChange.toFixed(0)}%).</p>
                <p>Οι κατηγορίες με τη μεγαλύτερη ανάπτυξη είναι το <span class="font-bold text-green-600">${winners[0] ? winners[0].category : 'N/A'}</span>, το <span class="font-bold text-green-600">${winners[1] ? winners[1].category : 'N/A'}</span>, οι <span class="font-bold text-green-600">${winners[2] ? winners[2].category : 'N/A'}</span> και οι <span class="font-bold text-green-600">${winners[3] ? winners[3].category : 'N/A'}</span>.</p>
                <p>Οι κατηγορίες με τις μεγαλύτερες προκλήσεις είναι τα <span class="font-bold text-red-600">${losers[0] ? losers[0].category : 'N/A'}</span>, το <span class="font-bold text-red-600">${losers[1] ? losers[1].category : 'N/A'}</span>, το <span class="font-bold text-red-600">${losers[2] ? losers[2].category : 'N/A'}</span> και το <span class="font-bold text-red-600">${losers[3] ? losers[3].category : 'N/A'}</span>.</p>
                <p>Η στρατηγική εστίαση στην περαιτέρω ενίσχυση των κατηγοριών με θετική μεταβολή είναι κρίσιμης σημασίας για τη διατήρηση της ανοδικής πορείας, ενώ απαιτείται διερεύνηση για τις κατηγορίες με αρνητική μεταβολή.</p>
            `;
        }

        // Initial data for the infographic (AG.SOFIAS 37 store)
        const initialInfographicData = {
            storeName: '"Παραδοσιακό One Salonica"',
            overall: {
                totalValue2025: 0, // Will be calculated from allCategories
                totalValue2024: 0, // Will be calculated from allCategories
                totalQuantity2025: 0, // Will be calculated from allCategories
                totalQuantity2024: 0, // Will be calculated from allCategories
                top10Share: 81 // From "Top 10 Κατηγορίες ποσοστό τζίρου"
            },
            allCategories: [
				{ category: 'ΕΣΠΡΕΣΣΟ', value: parseCurrency('83201,5'), value2024: parseCurrency('72059'), valueChange: parsePercentage('15%'), quantity:37173, quantity2024: 35497, quantityChange: parsePercentage('5%') },
				{ category: 'ΣΑΝΤΟΥΪΤΣ', value: parseCurrency('41049,43'), value2024: parseCurrency('40433'), valueChange: parsePercentage('2%'), quantity:11595, quantity2024: 11774, quantityChange: parsePercentage('-2%') },
				{ category: 'ΚΑΠΟΥΤΣΙΝΟ', value: parseCurrency('38084,03'), value2024: parseCurrency('33651'), valueChange: parsePercentage('13%'), quantity:14508, quantity2024: 13878, quantityChange: parsePercentage('5%') },
				{ category: 'ΠΡΟΣΦΟΡΑ ΚΑΦΕ- BENEFIT CARD', value: parseCurrency('35829,83'), value2024: parseCurrency('34574'), valueChange: parsePercentage('4%'), quantity:17926, quantity2024: 17829, quantityChange: parsePercentage('1%') },
				{ category: 'ΠΙΤΕΣ', value: parseCurrency('26534,67'), value2024: parseCurrency('28706'), valueChange: parsePercentage('-8%'), quantity:10691, quantity2024: 12217, quantityChange: parsePercentage('-12%') },
				{ category: 'ΑΝΑΨΥΚΤΙΚΑ ΜΠΟΥΚΑΛΙ', value: parseCurrency('19961,9'), value2024: parseCurrency('21322'), valueChange: parsePercentage('-6%'), quantity:40648, quantity2024: 42872, quantityChange: parsePercentage('-5%') },
				{ category: 'ΑΡΤΟΖΥΜΕΣ', value: parseCurrency('15039,37'), value2024: parseCurrency('13848'), valueChange: parsePercentage('9%'), quantity:8051, quantity2024: 7715, quantityChange: parsePercentage('4%') },
				{ category: 'GOODBUY ΠΡΟϊΟΝΤΑ-ΜΠΑΡΕΣ', value: parseCurrency('12530,71'), value2024: parseCurrency('10930'), valueChange: parsePercentage('15%'), quantity:1617, quantity2024: 1934, quantityChange: parsePercentage('-16%') },
				{ category: 'ΑΡΤΟΓΛΥΚΙΣΜΑΤΑ', value: parseCurrency('8473,98'), value2024: parseCurrency('8535'), valueChange: parsePercentage('-1%'), quantity:4084, quantity2024: 4300, quantityChange: parsePercentage('-5%') },
				{ category: 'ΣΤΙΓΜΙΑΙΟΣ', value: parseCurrency('6932,78'), value2024: parseCurrency('6990'), valueChange: parsePercentage('-1%'), quantity:3552, quantity2024: 3677, quantityChange: parsePercentage('-3%') },
				{ category: 'ΚΡΟΥΑΣΑΝ', value: parseCurrency('6544,66'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:2523, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΓΛΥΚΟΠΩΛΕΙΟΝ', value: parseCurrency('5144,62'), value2024: parseCurrency('4939'), valueChange: parsePercentage('4%'), quantity:1687, quantity2024: 1745, quantityChange: parsePercentage('-3%') },
				{ category: 'ΧΥΜΟΙ ΦΥΣΙΚΟΙ', value: parseCurrency('5128,18'), value2024: parseCurrency('5379'), valueChange: parsePercentage('-5%'), quantity:1829, quantity2024: 2055, quantityChange: parsePercentage('-11%') },
				{ category: 'ΑΝΑΨΥΚΤΙΚΑ ΚΟΥΤΙ', value: parseCurrency('4312,39'), value2024: parseCurrency('4429'), valueChange: parsePercentage('-3%'), quantity:2423, quantity2024: 2506, quantityChange: parsePercentage('-3%') },
				{ category: 'ΜΠΟΥΓΑΤΣΑ', value: parseCurrency('4269,47'), value2024: parseCurrency('4463'), valueChange: parsePercentage('-4%'), quantity:1637, quantity2024: 1776, quantityChange: parsePercentage('-8%') },
				{ category: 'ΣΚΡΟΤΣΙΑΡΕΛΑ', value: parseCurrency('4194,89'), value2024: parseCurrency('4698'), valueChange: parsePercentage('-11%'), quantity:1079, quantity2024: 1510, quantityChange: parsePercentage('-29%') },
				{ category: 'GLUTEN FREE', value: parseCurrency('3700'), value2024: parseCurrency('3436'), valueChange: parsePercentage('8%'), quantity:1126, quantity2024: 1068, quantityChange: parsePercentage('5%') },
				{ category: 'ΕΛΛΗΝΙΚΟΣ', value: parseCurrency('3500,19'), value2024: parseCurrency('3266'), valueChange: parsePercentage('7%'), quantity:1572, quantity2024: 1475, quantityChange: parsePercentage('7%') },
				{ category: 'ΧΥΜΟΙ ΣΥΣΚΕΥΑΣΜΕΝΟΙ', value: parseCurrency('3469,48'), value2024: parseCurrency('3417'), valueChange: parsePercentage('2%'), quantity:1250, quantity2024: 1302, quantityChange: parsePercentage('-4%') },
				{ category: 'PIZZA BAR', value: parseCurrency('2425,55'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:829, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΣΟΚΟΛΑΤΑ', value: parseCurrency('2351,08'), value2024: parseCurrency('2221'), valueChange: parsePercentage('6%'), quantity:890, quantity2024: 850, quantityChange: parsePercentage('5%') },
				{ category: 'ΦΙΛΤΡΟΥ', value: parseCurrency('2181,28'), value2024: parseCurrency('1768'), valueChange: parsePercentage('23%'), quantity:1007, quantity2024: 890, quantityChange: parsePercentage('13%') },
				{ category: 'ΕΠΟΧΙΑΚΑ ΠΡΟΙΟΝΤΑ', value: parseCurrency('1317,24'), value2024: parseCurrency('540'), valueChange: parsePercentage('144%'), quantity:105, quantity2024: 51, quantityChange: parsePercentage('106%') },
				{ category: 'ΚΡΥΟ ΤΣΑΪ', value: parseCurrency('910,79'), value2024: parseCurrency('874'), valueChange: parsePercentage('4%'), quantity:436, quantity2024: 409, quantityChange: parsePercentage('7%') },
				{ category: 'ΖΕΣΤΟ ΤΣΑΙ', value: parseCurrency('808,12'), value2024: parseCurrency('464'), valueChange: parsePercentage('74%'), quantity:418, quantity2024: 257, quantityChange: parsePercentage('63%') },
				{ category: 'ΚΡΕΜΟΠΩΛΕΙΟΝ', value: parseCurrency('738,54'), value2024: parseCurrency('914'), valueChange: parsePercentage('-19%'), quantity:324, quantity2024: 415, quantityChange: parsePercentage('-22%') },
				{ category: 'ΚΟΥΛΟΥΡΑΚΙΑ', value: parseCurrency('543,29'), value2024: parseCurrency('118'), valueChange: parsePercentage('360%'), quantity:499, quantity2024: 111, quantityChange: parsePercentage('350%') },
				{ category: 'ΓΑΛΑ', value: parseCurrency('448,4'), value2024: parseCurrency('420'), valueChange: parsePercentage('7%'), quantity:191, quantity2024: 177, quantityChange: parsePercentage('8%') },
				{ category: 'COMBO ΠΡΟΙΟΝΤΑ', value: parseCurrency('393,5'), value2024: parseCurrency('41'), valueChange: parsePercentage('860%'), quantity:135, quantity2024: 14, quantityChange: parsePercentage('864%') },
				{ category: 'ΓΑΛΑ ΚΑΚΑΟ', value: parseCurrency('361,4'), value2024: parseCurrency('433'), valueChange: parsePercentage('-17%'), quantity:195, quantity2024: 242, quantityChange: parsePercentage('-19%') },
				{ category: 'MOCACHINO-FREDOCHINO', value: parseCurrency('204,6'), value2024: parseCurrency('195'), valueChange: parsePercentage('5%'), quantity:62, quantity2024: 60, quantityChange: parsePercentage('3%') },
				{ category: 'ΜΑΡΜΕΛΑΔΕΣ-ΓΛΥΚΑ ΚΟΥΤΑΛΙΟΥ', value: parseCurrency('155,7'), value2024: parseCurrency('5'), valueChange: parsePercentage('3014%'), quantity:34, quantity2024: 1, quantityChange: parsePercentage('3300%') },
				{ category: 'ΠΙΤΑΚΙΑ-ΟΡΘ. ΠΙΤΕΣ', value: parseCurrency('0'), value2024: parseCurrency('357'), valueChange: parsePercentage('-100%'), quantity:0, quantity2024: 22, quantityChange: parsePercentage('-100%') },
            ],
            sandwichCategories: [
				{ category: 'ΜΠΑΚΕΤΑ ΦΙΛΕΤΟ ΚΟΤΟΠΟΥΛΟ ΕΜΜΕΝΤΑΛ', value: parseCurrency('5650,68'), value2024: parseCurrency('6478'), valueChange: parsePercentage('-13%'), quantity:1510, quantity2024: 1791, quantityChange: parsePercentage('-16%') },
				{ category: 'ΣΟΥΣ.ΚΟΥΛΟΥΡΙ ΓΑΛΟΠΟΥΛΑ ΚΑΠΝΙΣΤΗ & ΜΑΝΟΥΡΙ', value: parseCurrency('4769,66'), value2024: parseCurrency('5161'), valueChange: parsePercentage('-8%'), quantity:1298, quantity2024: 1422, quantityChange: parsePercentage('-9%') },
				{ category: 'Χ. ΚΑΡΒΕΛΑΚΙ ΚΟΤΟΠΟΥΛΟ-COUNTRY CHICKEN', value: parseCurrency('4305,15'), value2024: parseCurrency('4344'), valueChange: parsePercentage('-1%'), quantity:1209, quantity2024: 1262, quantityChange: parsePercentage('-4%') },
				{ category: 'ΜΠΑΚΕΤΑ ΖΑΜΠΟΝ, ΓΚΟΥΝΤΑ', value: parseCurrency('4163,63'), value2024: parseCurrency('4051'), valueChange: parsePercentage('3%'), quantity:1426, quantity2024: 1423, quantityChange: parsePercentage('0%') },
				{ category: 'Ψ. ΚΟΥΡΚΟΥΜΑ ΚΟΛΟΚΥΘΟΣΠΟΡΟ & ΚΟΤΟΠΟΥΛΟ', value: parseCurrency('2956,89'), value2024: parseCurrency('2759'), valueChange: parsePercentage('7%'), quantity:870, quantity2024: 828, quantityChange: parsePercentage('5%') },
				{ category: 'ΚΑΡΒΕΛΑΚΙ HOVIS ΓΑΛΟΠΟΥΛΑ ΜΠΑΧΤΣΕ, CREAM CHEESE', value: parseCurrency('2542,76'), value2024: parseCurrency('2502'), valueChange: parsePercentage('2%'), quantity:740, quantity2024: 749, quantityChange: parsePercentage('-1%') },
				{ category: 'PANIS OLEUM RUSTICALE ΓΑΛΟΠΟΥΛΑ ΦΙΛΕΤΟ ΕΛΑΙΟΛΑΔΟ', value: parseCurrency('2426,59'), value2024: parseCurrency('2112'), valueChange: parsePercentage('15%'), quantity:631, quantity2024: 550, quantityChange: parsePercentage('15%') },
				{ category: 'ΟΛ.ΜΠΑΓΚΕΤΑ ΧΟΙΡΟΜΕΡΙ', value: parseCurrency('2365,61'), value2024: parseCurrency('2226'), valueChange: parsePercentage('6%'), quantity:604, quantity2024: 567, quantityChange: parsePercentage('7%') },
				{ category: 'ΚΑΡΒΕΛΑΚΙ HOVIS ΠΡΟΣΟΥΤΟ ΚΡΕΜΑ ΠΑΡΜΕΖΑΝΑ', value: parseCurrency('2002,71'), value2024: parseCurrency('1613'), valueChange: parsePercentage('24%'), quantity:581, quantity2024: 468, quantityChange: parsePercentage('24%') },
				{ category: 'PANIS OLEUM SICILIANA ΜΟΤΣΑΡΕΛΑ', value: parseCurrency('1748,73'), value2024: parseCurrency('1736'), valueChange: parsePercentage('1%'), quantity:553, quantity2024: 556, quantityChange: parsePercentage('-1%') },
				{ category: 'ΧΑΡΟΥΠΙ Π.ΓΡΑΒΙΕΡΑ ΚΡΗΤΗΣ', value: parseCurrency('1725,9'), value2024: parseCurrency('1914'), valueChange: parsePercentage('-10%'), quantity:522, quantity2024: 588, quantityChange: parsePercentage('-11%') },
				{ category: 'PANIS OLEUM RUSTICALE ΜΑΝΙΤΑΡΙΑ ΠΛΕΥΡΩΤΟΥΣ', value: parseCurrency('1150,53'), value2024: parseCurrency('826'), valueChange: parsePercentage('39%'), quantity:300, quantity2024: 216, quantityChange: parsePercentage('39%') },
				{ category: 'PLANT BASED Ψ.ΛΑΧ & ΦΕΤΑ.ΣΕ Χ.ΜΠΑΓΚΕΤΑ ΟΛ.', value: parseCurrency('1055,6'), value2024: parseCurrency('320'), valueChange: parsePercentage('230%'), quantity:268, quantity2024: 81, quantityChange: parsePercentage('231%') },
				{ category: 'PLANT BASED ΜΑΝΙΤΑΡΙΑ & ΝΤΟΜ.ΣΕ Ψ.ΧΑΡΟΥΠΙΟΥ', value: parseCurrency('1005,3'), value2024: parseCurrency('339'), valueChange: parsePercentage('197%'), quantity:227, quantity2024: 76, quantityChange: parsePercentage('199%') },
				{ category: 'ΟΛ.ΜΠΑΓΚΕΤΑ ΚΟΤΟΠΟΥΛΟ', value: parseCurrency('870,41'), value2024: parseCurrency('163'), valueChange: parsePercentage('434%'), quantity:232, quantity2024: 44, quantityChange: parsePercentage('427%') },
				{ category: 'ΧΑΡΟΥΠΙ ΦΕΤΑ & ΤΟΜΑΤΑ', value: parseCurrency('782,08'), value2024: parseCurrency('1010'), valueChange: parsePercentage('-23%'), quantity:233, quantity2024: 320, quantityChange: parsePercentage('-27%') },
				{ category: 'PLANT BASED ΖΑΜΠΟΝ & ΓΚΟΥΝΤΑ ΣΕ Χ.ΜΠΑΓΚΕΤΑ', value: parseCurrency('568,4'), value2024: parseCurrency('337'), valueChange: parsePercentage('69%'), quantity:144, quantity2024: 86, quantityChange: parsePercentage('67%') },
				{ category: 'ΟΛ.ΜΠΑΓΚΕΤΑ ΣΑΛΑΜΙ ΜΠΥΡΑΣ ΓΑΛΟΜΥΖΗΘΡΑ', value: parseCurrency('361,2'), value2024: parseCurrency('1054'), valueChange: parsePercentage('-66%'), quantity:92, quantity2024: 269, quantityChange: parsePercentage('-66%') },
				{ category: 'PANIS OLEUM NATURALE ΓΑΛΟΠΟΥΛΑ ΦΙΛΕΤΟ', value: parseCurrency('325,86'), value2024: parseCurrency('436'), valueChange: parsePercentage('-25%'), quantity:84, quantity2024: 113, quantityChange: parsePercentage('-26%') },
				{ category: 'Χ. ΚΑΡΒΕΛΑΚΙ ΧΟΙΡΟΜΕΡΙ', value: parseCurrency('114'), value2024: parseCurrency('40'), valueChange: parsePercentage('185%'), quantity:29, quantity2024: 10, quantityChange: parsePercentage('190%') },
				{ category: 'PANIS OLEUM SICILIANA ΠΡΟΣΟΥΤΟ CRUDO', value: parseCurrency('96,26'), value2024: parseCurrency('15'), valueChange: parsePercentage('542%'), quantity:25, quantity2024: 4, quantityChange: parsePercentage('525%') },
				{ category: 'Ψ. ΚΟΥΡΚΟΥΜΑ ΠΡΟΣΟΥΤΟ CRUDO & PESTO ΒΑΣΙΛΙΚΟΥ', value: parseCurrency('37'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:10, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΚΑΡΒΕΛΑΚΙ ΗOVIS MANITAΡΙΑ ΦΟΥΡΝΟΥ (VEGAN)', value: parseCurrency('20,88'), value2024: parseCurrency('254'), valueChange: parsePercentage('-92%'), quantity:6, quantity2024: 72, quantityChange: parsePercentage('-92%') },
				{ category: 'PLANT BASED ΠΑΝΤΖΑΡΙ-ΚΑΡΟΤΟ & ΜΠΡΟΚΟΛΟ.ΣΕ Ψ.ΧΑΡΟΥΠΙΟΥ', value: parseCurrency('3,6'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:1, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'PANIS OLEUM NATURALE Φ.ΨΗΤΟ ΚΟΤΟΠΟΥΛΟ ΑΒΟΚΑΝΤΟ', value: parseCurrency('0'), value2024: parseCurrency('12'), valueChange: parsePercentage('-100%'), quantity:0, quantity2024: 3, quantityChange: parsePercentage('-100%') },
				{ category: 'ΜΠΡΙΟΣ ΚΑΠΝΙΣΤΟΣ ΣΟΛΟΜΟΣ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΤΟΡΤΙΓΙΑ ΤΕRIYAKI ΚΟΤΟΠΟΥΛΟ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΜΠΡΙΟΣ ΖΑΜΠΟΝ Κ.ΓΚΟΥΝΤΑ', value: parseCurrency('0'), value2024: parseCurrency('264'), valueChange: parsePercentage('-100%'), quantity:0, quantity2024: 142, quantityChange: parsePercentage('-100%') },
				{ category: 'ΤΟΡΤΙΓΙΑ ΟΛΙΚΗΣ ΚΑΠΝΙΣΤΟ Φ.ΓΑΛΟΠΟΥΛΑΣ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΤΟΡΤΙΓΙΑ ΟΛΙΚΗΣ ΚΑΠΝΙΣΤΟ ΣΟΛΟΜΟ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'Χ. ΚΑΡΒΕΛΑΚΙ ΣΤΡΑΠΑΤΣΑΔΑ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΤΟΡΤΙΓΙΑ ΟΛΙΚΗΣ ΓΟΥΑΚΑΜΟΛΕ ΜΕ ΑΥΓΟ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΠΟΛΥΣΠΟΡΟ ΚΡΟΥΑΣΑΝ ΠΡΟΣΟΥΤΟ ΚΡΕΜΑ ΤΥΡΙΟΥ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΦΕΤΕΣ ΜΠΡΙΟΣ ΜΕ ΠΑΣΤΡΑΜΙ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'Ψ. ΚΟΥΡΚΟΥΜΑ ΠΑΝΤΖΑΡΙ & ΓΑΛΟΜΥΖΗΘΡΑ ΚΡΗΤΗΣ', value: parseCurrency('0'), value2024: parseCurrency('11'), valueChange: parsePercentage('-100%'), quantity:0, quantity2024: 3, quantityChange: parsePercentage('-100%') },
				{ category: 'ΤΟΡΤΙΓΙΑ MEXICAN ΚΟΤΟΠΟΥΛΟ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΤΟΡΤΙΓΙΑ ΧΟΙΡΟΜΕΡΙ ΑΠΟΞ.ΣΥΚΟ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΤΟΡΤΙΓΙΑ ΣΑΛΑΜΙ ΜΠΥΡΑΣ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'PLANT BASED ΚΕΦΤΕΔΑΚΙΑ ΠΑΝΤΖΑΡΙΟΥ ΣΕ PANIS OLEUM RUSTICALE', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΦΕΤΕΣ ΜΠΡΙΟΣ ΜΕ ΣΟΛΟΜΟ & GUACAMOLE', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΜΠΡΙΟΣ ΜΟΤΣΑΡΕΛΑ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'PLANT BASED ΚΕΦΤΕΔΑΚΙΑ ΠΑΝΤΖΑΡΙΟΥ & ΛΑΧ.ΤΟΡΤΙΓΙΑ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'PLANT BASED ΚΕΦΤΕΔΑΚΙΑ ΚΙΝΟΑ &Ψ.ΛΑΧ ΤΟΡΤΙΓΙΑ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΤΟΡΤΙΓΙΑ ΟΛΙΚΗΣ ΤΟΝΟ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'PLANT BASED ΚΕΦΤΕΔΑΚΙΑ ΠΑΤΑΤΑΣ & ΛΑΧ. ΤΟΡΤΙΓΙΑ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'PLANT BASED ΦΑΛΑΦΕΛ & Ψ.ΜΕΛΙΤΖΑΝΑ ΣΕ PANIS OLEUM RUSTICALE', value: parseCurrency('0'), value2024: parseCurrency('5'), valueChange: parsePercentage('-100%'), quantity:0, quantity2024: 1, quantityChange: parsePercentage('-100%') },
				{ category: 'PLANT BASED ΚΕΦΤΕΔΑΚΙΑ ΠΑΤΑΤΑΣ&ΠΑΤΖΑΡΙΟΥ ΣΕ Ψ.ΚΟΥΡΚΟΥΜΑ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΦΕΤΕΣ ΜΠΡΙΟΣ ΜΕ ΠΑΣΤΡΑΜΙ & WASABI', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΦΕΤΕΣ ΜΠΡΙΟΣ ΜΕ ΣΟΛΟΜΟ & COLESLAW', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'PLANT BASED ΦΑΛΑΦΕΛ &Ψ.ΛΑΧ.ΤΟΡΤΙΓΙΑ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΤΟΡΤΙΓΙΑ ΠΡΟΣΟΥΤΟ CRUDO & ΜΟΤΣΑΡΕΛΑ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΦΕΤΕΣ ΜΠΡΙΟΣ ΨΩΜΙ ΜΕ ΤΟΝΟ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'PANIS OLEUM RUSTICALE ΠΑΣΤΡΑΜΙ ΔΡΑΜΑΣ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΣΟΥΣ.ΚΟΥΛΟΥΡΙ Π.ΓΡΑΒΙΕΡΑ ΚΡΗΤΗΣ & Ψ. ΜΑΝΙΤΑΡΙΑ', value: parseCurrency('0'), value2024: parseCurrency('7'), valueChange: parsePercentage('-100%'), quantity:0, quantity2024: 2, quantityChange: parsePercentage('-100%') },
				{ category: 'PANIS OLEUM SICILIANA ΜΕ ΚΟΛΟΚ/ΔΕΣ ΝΗΣΤ.ΤΥΡΙ,ΝΤΟΜ.ΦΟΥΡ.', value: parseCurrency('0'), value2024: parseCurrency('122'), valueChange: parsePercentage('-100%'), quantity:0, quantity2024: 36, quantityChange: parsePercentage('-100%') },
				{ category: 'ΤΟΡΤΙΓΙΑ ΟΛΙΚΗΣ ΦΑΛΑΦΕΛ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'PANIS OLEUM NATURALE ΠΡΟΣΟΥΤΟ CRUDO & ΜΑΝΙΤΑΡΙΑ ΦΟΥΡΝΟΥ', value: parseCurrency('0'), value2024: parseCurrency('28'), valueChange: parsePercentage('-100%'), quantity:0, quantity2024: 7, quantityChange: parsePercentage('-100%') },
				{ category: 'ΣΟΥΣ.ΚΟΥΛΟΥΡΙ ΦΑΛΑΦΕΛ (VEGAN)', value: parseCurrency('0'), value2024: parseCurrency('158'), valueChange: parsePercentage('-100%'), quantity:0, quantity2024: 51, quantityChange: parsePercentage('-100%') },
				{ category: 'PANIS OLEUM RUSTICALE ΜΕ ΝΗΣΤΙΣΙΜΟ ΛΕΥΚΟ ΤΥΡΙ', value: parseCurrency('0'), value2024: parseCurrency('4'), valueChange: parsePercentage('-100%'), quantity:0, quantity2024: 1, quantityChange: parsePercentage('-100%') },
				{ category: 'PANIS OLEUM RUSTICALE ΦΑΛΑΦΕΛ ΜΕ ΣΩΣ ΤΑΧΙΝΙ', value: parseCurrency('0'), value2024: parseCurrency('131'), valueChange: parsePercentage('-100%'), quantity:0, quantity2024: 33, quantityChange: parsePercentage('-100%') },
				{ category: 'ΤΟΡΤΙΓΙΑ ΟΛΙΚΗΣ ΦΑΣΟΛΙΑ ΜΕXICAN VEGAN', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΚΑΡΒΕΛΑΚΙ ΚΙΝΟΑ ΜΕ ΤΟΝΟ', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
				{ category: 'ΤΟΡΤΙΓΙΑ ΟΛΙΚΗΣ ΚΙΝΟΑ- ΨΗΤΑ ΛΑΧΑΝΙΚΑ VEGAN', value: parseCurrency('0'), value2024: parseCurrency('0'), valueChange: parsePercentage('0%'), quantity:0, quantity2024: 0, quantityChange: parsePercentage('0%') },
            ],
            pitakia: {
                category: 'ΠΙΤΑΚΙΑ-ΟΡΘ. ΠΙΤΕΣ',
                valueChange: parsePercentage('0%'),
                quantityChange: parsePercentage('0%')
            },
            sandwichesTortillasSummary: [
				{ category: 'ΣΑΝΤΟΥΪΤΣ', value: parseCurrency('41049,43'), value2024: parseCurrency('40433'), valueChange: parsePercentage('2%'), quantity:11595, quantity2024: 11774, quantityChange: parsePercentage('-2%') },
            ]
        };

        // Calculate overall totals from allCategories
        initialInfographicData.allCategories.forEach(category => {
            initialInfographicData.overall.totalValue2025 += category.value;
            initialInfographicData.overall.totalValue2024 += category.value2024;
            initialInfographicData.overall.totalQuantity2025 += category.quantity;
            initialInfographicData.overall.totalQuantity2024 += category.quantity2024;
        });

        // Render the infographic with initial data when the DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            renderInfographic(initialInfographicData);
        });
    </script>
</body>
</html>
